{"version":3,"sources":["ngApp/main.module.js","simple.js","ngApp/list.js","ngApp/listEl.js","ngApp/lorem.svc.js"],"names":["angular","module","fetch","url","request","XMLHttpRequest","promise","Promise","resolve","reject","open","onreadystatechange","this","readyState","status","responseText","statusText","send","data","pushToArticles","prefetched","articles","push","localStorage","setItem","JSON","stringify","prefetchedArticles","document","querySelector","addEventListener","then","stringData","parse","reason","console","error","debugList","$rootScope","link","scope","element","attrs","bindToController","controller","debugListCtrl","controllerAs","restrict","template","join","loremService","getArticle","self","length","prefetchedData","getItem","getLoremText","article","log","clearArticles","title","directive","$inject","listEl","Controller","$http","get","factory"],"mappings":"CAAA,WACA,YAEAA,SACAC,OAAA,kBCJA,WACA,YAuBA,SAAAC,GAAAC,GACA,GAAAC,GAAA,GAAAC,gBACAC,EAAA,GAAAC,SAAA,SAAAC,EAAAC,GACAL,EAAAM,KAAA,MAAAP,GAEAC,EAAAO,mBAAA,WACA,IAAAC,KAAAC,aACA,MAAAD,KAAAE,OACAN,EAAAI,KAAAG,cACAN,EAAAG,KAAAI,cAIAZ,EAAAa,QAGA,OAAAX,GAGA,QAAAE,GAAAU,GACA,MAAAX,SAAAC,QAAAU,GAGA,QAAAC,GAAAD,GACAE,EAAAC,SAAAC,KAAAJ,GACAK,aAAAC,QAAA,qBAAAC,KAAAC,UAAAN,UA/CAG,cAAAI,kBAEA,IAAAP,IACAC,YAEAO,UAAAC,cAAA,UAAAC,iBAAA,QAAA,WACA5B,EAAA,SACA6B,KAAA,SAAAC,GACA,MAAAxB,GAAAiB,KAAAQ,MAAAD,MAEAD,KAAA,SAAAb,GAEA,MADAC,GAAAD,GACAhB,EAAA,WAEA6B,KAAA,SAAAC,GACAb,EAAAM,KAAAQ,MAAAD,MATA9B,SAWA,SAAAgC,GACAC,QAAAC,MAAAF,UCpBA,WACA,YAOA,SAAAG,GAAAC,GAsBA,QAAAC,GAAAC,EAAAC,EAAAC,IArBA,OACAC,kBAAA,EACAC,WAAAC,EACAC,aAAA,YACAP,KAAAA,EACAQ,SAAA,IACAP,SACAQ,UACA,QACA,iEACA,wEACA,SACA,+BACA,8BACA,kDACA,qCACA,SACA,UACAC,KAAA,KAQA,QAAAJ,GAAAK,GAQA,QAAAC,KACA,IAAAC,EAAA/B,SAAAgC,OAAA,CACA,GAAAC,GAAA/B,aAAAgC,QAAA,qBACAD,KACAA,EAAA7B,KAAAQ,MAAAqB,GAEAA,EAAAjC,WACA+B,EAAA/B,SAAAiC,EAAAjC,WAKA6B,EACAM,eACAzB,KAAA,SAAA0B,GACAL,EAAA/B,SAAAC,KAAAmC,EAAAvC,MACAiB,QAAAuB,IAAAN,EAAA/B,YAIA,QAAAsC,KACAP,EAAA/B,YA5BA,GAAA+B,GAAAxC,IAEAwC,GAAAQ,MAAA,gBACAR,EAAA/B,YACA+B,EAAAD,WAAAA,EACAC,EAAAO,cAAAA,EAtCA3D,QACAC,OAAA,YACA4D,UAAA,YAAAxB,GA2BAA,EAAAyB,SAAA,cAmCAjB,EAAAiB,SAAA,mBCnEA,WACA,YAOA,SAAAC,GAAAzB,GAmBA,QAAAC,GAAAC,EAAAC,EAAAC,IAlBA,OACAE,WAAAoB,EACAzB,KAAAA,EACAQ,SAAA,KACAP,OACAtB,KAAA,KAEA8B,UACA,YACA,WACA,sDACA,kDACA,YACA,uBACA,cACAC,KAAA,KAQA,QAAAe,MA7BAhE,QACAC,OAAA,YACA4D,UAAA,SAAAE,GAwBAA,EAAAD,SAAA,iBC7BA,WACA,YAOA,SAAAZ,GAAAe,GAOA,QAAAT,KACA,MAAAS,GAAAC,IAAA,SAPA,OACAV,aAAAA,GAPAxD,QACAC,OAAA,YACAkE,QAAA,eAAAjB,GAcAA,EAAAY,SAAA","file":"app.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('debugApp', []);\n})();\n","(function(){\n    'use strict';\n    delete localStorage.prefetchedArticles;\n\n    var prefetched = {\n            \"articles\": []\n        };\n    document.querySelector('button').addEventListener('click', function () {\n        fetch('/text')\n            .then(function fun1 (stringData) {\n                return resolve(JSON.parse(stringData));\n            })\n            .then(function fun2 (data){\n                pushToArticles(data);\n                return fetch('/text');\n            })\n            .then(function fun3 (stringData){\n                pushToArticles(JSON.parse(stringData));\n            })\n            .catch(function (reason){\n                console.error(reason);\n            })\n    });\n\n    function fetch(url) {\n        var request = new XMLHttpRequest(),\n            promise = new Promise(function (resolve, reject) {\n                request.open('GET', url);\n\n                request.onreadystatechange = function () {\n                  if (this.readyState === 4) {\n                    this.status === 200\n                        ? resolve(this.responseText)\n                        : reject(this.statusText)\n                  }\n                };\n\n                request.send();\n            });\n\n        return promise;\n    }\n\n    function resolve (data){\n        return Promise.resolve(data);\n    }\n\n    function pushToArticles (data){\n        prefetched.articles.push(data);\n        localStorage.setItem('prefetchedArticles', JSON.stringify(prefetched));\n    }\n\n\n})();\n","(function() {\n  'use strict';\n\n  angular\n    .module('debugApp')\n    .directive('debugList', debugList);\n\n  /* @ngInject */\n  function debugList($rootScope) {\n    return {\n      bindToController: true,\n      controller: debugListCtrl,\n      controllerAs: 'debugList',\n      link: link,\n      restrict: 'A',\n      scope: {},\n      template: [\n        '<div>',\n          '<button ng-click=\"debugList.getArticle()\">Add article</button>',\n          '<button ng-click=\"debugList.clearArticles()\">Remove articles</button>',\n        '</div>',\n        '<h1>{{debugList.title}}</h1>',\n        '<div class=\"articles-list\">',\n          '<div ng-repeat=\"article in debugList.articles\">',\n            '<list-el data=\"article\"></list-el>',\n          '</div>',\n        '</div>'\n      ].join('')\n    };\n\n    function link(scope, element, attrs) {}\n  }\n  debugList.$inject = [\"$rootScope\"];\n\n  /* @ngInject */\n  function debugListCtrl(loremService) {\n    var self = this;\n\n    self.title = \"Articles list\";\n    self.articles = [];\n    self.getArticle = getArticle;\n    self.clearArticles = clearArticles;\n\n    function getArticle() {\n      if (!self.articles.length) {\n          var prefetchedData = localStorage.getItem(\"prefetchedArticles\");\n          if(prefetchedData){\n            prefetchedData = JSON.parse(prefetchedData);\n\n            if (prefetchedData.articles){\n                self.articles = prefetchedData.articles;\n            }\n          }\n      }\n\n      loremService\n        .getLoremText()\n        .then(function(article){\n            self.articles.push(article.data);\n            console.log(self.articles);\n        })\n    }\n\n    function clearArticles () {\n      self.articles = [];\n    }\n  }\n  debugListCtrl.$inject = [\"loremService\"];\n\n})();\n","(function() {\n    'use strict';\n\n    angular\n        .module('debugApp')\n        .directive('listEl', listEl);\n\n    /* @ngInject */\n    function listEl($rootScope) {\n        return {\n            controller: Controller,\n            link: link,\n            restrict: 'AE',\n            scope: {\n                \"data\": \"=\"\n            },\n            template: [\n                '<section>',\n                    '<header>',\n                        '<spam>Words count: {{data.letterCount}}</span></br>',\n                        '<spam>Letter count: {{data.text.length}}</span>',\n                    '</header>',\n                    '<p>{{data.text}}</p>',\n                '</section>'\n            ].join('')\n        };\n\n        function link(scope, element, attrs) {}\n    }\n    listEl.$inject = [\"$rootScope\"];\n\n    /* @ngInject */\n    function Controller() {}\n\n})();\n","(function() {\n  'use strict';\n\n  angular\n    .module('debugApp')\n    .factory('loremService', loremService);\n\n  /* @ngInject */\n  function loremService($http) {\n    return {\n      getLoremText: getLoremText\n    };\n\n    ////////////////\n\n    function getLoremText () {\n      return $http.get('/text');\n    }\n  }\n  loremService.$inject = [\"$http\"];\n})();\n"],"sourceRoot":"/source/"}